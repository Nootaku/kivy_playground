#:import player player

MainWindow:
# MenuCard:

<MainWindow>:
    MenuWindow:
    WizardWindow:
    SlideWindow:
    PlayerWidget:

<TopBar>:
    id: top_bar

    MDRectangleFlatIconButton:
        id: top_bar_button
        icon: 'arrow-left-bold'
        text: 'Back'
        theme_text_color: "Custom"
        text_color: 1, 192 / 255, 34 / 255, 1
        line_color: 1, 192 / 255, 34 / 255, 1
        theme_icon_color: "Custom"
        icon_color: 1, 192 / 255, 34 / 255, 1
        pos_hint: {'center_y': .5}
        # size_hint_x: root.top_image_width
        on_release: app.root.current = 'menu'

    Image:
        id: top_bar_logo
        source: root.top_image
        size_hint_x: root.top_image_width

    Label:
        id: top_bar_label
        text: root.parent.parent.title
        font_name: 'resources/fonts/Odachi.otf'
        font_size: dp(root.parent.parent.title_dp_size)
        color: 0.6, 0.87, 0

<MenuWindow>:
    name: 'menu'
    BoxLayout:
        orientation: 'vertical'
        spacing: 25
        padding: 10
        canvas.before:
            Color:
                rgba: .28, .28, .28, 1
            Rectangle:
                size: self.size

        TopBar:

        MDGridLayout:
            rows: 4
            spacing: 8

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/wizard.png'
                        allow_stretch: True
                    CardButton:
                        card_link: 'wizard'
                    CardLabel:
                        text: 'Wizard'

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/slide.png'
                    CardButton:
                        card_link: 'slide'
                    CardLabel:
                        text: 'Slide'

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/slalom.jpeg'
                    CardButton:
                        card_link: 'slalom'
                    CardLabel:
                        text: 'Slalom'

            MDCard:
                MenuCard:
                    FitImage:
                        source: 'resources/img/street.jpg'
                    CardButton:
                        card_link: 'street'
                    CardLabel:
                        text: 'Street'

<WizardWindow>:
    name: 'wizard'
    canvas.before:
        Color:
            rgba: .28, .28, .28, 1
        Rectangle:
            size: self.size
    # video_player: video_player

    BoxLayout:
        id: wizard_menu
        orientation: 'vertical'
        spacing: 25
        padding: 10

        TopBar:
            is_logo: False

        VideoList:
        # MDGridLayout:
        #     cols: 2
        #     spacing: 5
        #
        #     VideoButton:
        #         text: 'Fakie Gazelle'
        #         on_press: root.launchVideo(0)
        #     VideoButton:
        #         text: 'Front Gazelle'
        #         on_press: root.launchVideo(1)
        #     VideoButton:
        #         text: 'Lion in-out'
        #         on_press: root.launchVideo(2)
        #     VideoButton:
        #         text: 'Lion out-in'
        #         on_press: root.launchVideo(3)

<SlideWindow>:
    name: 'slide'

    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            size_hint_y: None
            size_y: dp(45)
            Button:
                text: 'Back'
                on_release: app.root.current = 'menu'
            Button:
                text: 'Powerslide'
                on_release:
            Button:
                text: 'Parallel slide'
                on_release:

        VideoPlayer:
            source: root.video_path
